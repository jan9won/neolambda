<pre>
********************************************************************************************************************************************************************************************************************************************************************************************************************************
*                                                                                                                                                                                                                                                                                                                              *
*                                                                                                                                                                                                                                                                                                                              *
*                                                                                                                                                                                                                                                                                                                              *
*                                                                                                                                                                                                                                                                                                                              *
*    ┏━━━━━━━Main Routine━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓                                                                                                                                                *
*    ┃                                                                                                                                                                        ┃                                                                                                                                                *
*    ┃                                                                                                                                                                        ┃                                                                                                                                                *
*    ┃                                          ┌───────────────────────┐                                                           ┌───────────────────────┐                 ┃                                                                                                                                                *
*    ┃                                     ┌───▶│    page_collection    │                                        ┌clearTimeout()───▶│ Request Promise Timer │                 ┃                                                                                                                                                *
*    ┃                                     │    └───────────────────────┘                                        │                  └───────────────────────┘                 ┃                                                                                                                                                *
*    ┃                                     │                                                  Λ                  │                                                            ┃                                                                                                                                                *
*    ┃                                     │    ┌───────────────────────┐                    ╱ ╲                 │                  ┌───────────────────────┐                 ┃                                                                                                                                                *
*    ┃                                     ├───▶│       page_tree       │                   ╱   ╲                ├clearTimeout()───▶│  Request Ready Timer  │                 ┃                                                                                                                                                *
*    ┃                                     │    └───────────────────────┘                  ╱     ╲               │                  └───────────────────────┘                 ┃                                                                                                                                                *
*    ┃                                     │                                              ╱       ╲              │                                                            ┃                                                                                                                                                *
*    ┃                                     │    ┌───────────────────────┐                ╱  check  ╲             │                  ┌─────────────────┐                       ┃                                                                                                                                                *
*    ┃                                     ├───▶│ Request Promise Queue │──────┐        ╱  routine  ╲            │   ┌───update ───▶│ page_collection │                       ┃                                                                                                                                                *
*    ┃        ┌───────────────────────┐    │    └───────────────────────┘      │       ╱      ↻      ╲           │   │              └─────────────────┘                       ┃                                                                                                                                                *
*    ┃        │    Fetcher Routine    │────┤                                   ├─────▶▕  promise = 0  ▏──┬─true──┼───┤                                                        ┃                                                                                                                                                *
*    ┃        └───────────────────────┘    │    ┌───────────────────────┐      │       ╲  ready = 0  ╱   │       │   │              ┌─────────────────┐                       ┃                                                                                                                                                *
*    ┃                    ▲                ├───▶│  Request Ready Queue  │──────┘        ╲     ↻     ╱    │       │   └───update────▶│    page_tree    │                       ┃                                                                                                                                                *
*    ┃                                     │    └───────────────────────┘                ╲   0ms   ╱     │       │                  └─────────────────┘                       ┃                                                                                                                                                *
*    ┃                    │                │                                              ╲       ╱      │       │                                                            ┃                                                                                                                                                *
*    ┃                                     │    ┌───────────────────────┐                  ╲     ╱       │       │                                                            ┃                                                                                                                                                *
*    ┃                    │                ├───▶│ Request Promise Timer │                   ╲   ╱        │       └──────────────────▶ wait for some minutes ─ ─ ┐             ┃                                                                                                                                                *
*    ┃                                     │    └───────────────────────┘                    ╲ ╱         │                                                                    ┃                                                                                                                                                *
*    ┃                    │                │                                                  V          │                                                      │             ┃                                                                                                                                                *
*    ┃                                     │    ┌───────────────────────┐                     ▲          │                                                                    ┃                                                                                                                                                *
*    ┃                    │                └───▶│  Request Ready Timer  │                     └──false───┘                                                      │             ┃                                                                                                                                                *
*    ┃                                          └───────────────────────┘                                                                                                     ┃                                                                                                                                                *
*    ┃                    │                                                                                                                                     │             ┃                                                                                                                                                *
*    ┃                     ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─  create new fetcher routine ◀ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─              ┃                                                                                                                                                *
*    ┃                    │                                                                                                                                                   ┃                                                                                                                                                *
*    ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛                                                                                                                                                *
*                         │                                                                                                                                                                                                                                                                                                    *
*                                                                                                                                                                                                                                                                                                                              *
*                         │                                                                                                                                                                                                                                                                                                    *
*                                                                                                                                                                                                                                                                                                                              *
*     ┏━━━Fetcher Routine━┻━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓    *
*     ┃                                                                                                                                                                                                                                                                                                                   ┃    *
*     ┃                                                                                                                                                                                                  ┌─.plaintext += plaintext────────────────────────────────────────────────────┐                                   ┃    *
*     ┃                                                                                                                                                                                                  │                                                                            │                                   ┃    *
*     ┃                                                                                                                                                                     ╔══════════════════════════╗ │                                      ╔══════════════════════╗              │                                   ┃    *
*     ┃                                                                                                                       ┌──false───┐                                  ║  Promise (resolved)      ║ ├─.children.push()┐                    ║Connector             ║              │                                   ┃    *
*     ┃                                                                                    ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓ │          │                                  ║┌───────────────────────┐ ║ │                 │                    ║ ┌──────────────────┐ ║              │                                   ┃    *
*     ┃                                                                                    ┃   Request Promise Queue        ┃ │          │                                  ║│parentToAssign: Entity │◀──┘       ┌──────────────────┐           ║ │toAssigned: itself│ ║              │                                   ┃    *
*     ┃                                                                                    ┃ ╔══════════════════════════╗   ┃ │          Λ                                  ║└───────────────────────┘ ║   ┌────▶│ is Page/Database │──create──▶║ └──────────────────┘ ║──────────────│─────────────────┐                 ┃    *
*     ┃                                                                                    ┃ ║  Promise (pending)       ║   ┃ │         ╱ ╲                                 ║┌───────────────────────┐ ║   │     └──────────────────┘           ║┌────────────────────┐║              │                 │                 ┃    *
*     ┃       ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓                                          ┃ ║ ┌───────────────────────┐║   ┃ │        ╱   ╲                                ║│parentToRequest: Entity│ ║   │                      │             ║│toRequested: itself │║              │                 │                 ┃    *
*     ┃       ┃  New Requests                 ┌──────────────────────────────────────────────╬▶│parentToAssign: Entity │║   ┃ │       ╱     ╲            ┌──────────────┐   ║└───────────────────────┘ ║   │                      │             ║└────────────────────┘║              │                 │                 ┃    *
*     ┃       ┃ ╔═════════════════════════╗   │ ┃ ┌──────────────────────────────────────┐ ┃ ║ └───────────────────────┘║...┃ │      ╱       ╲       ┌──▶│ is Fulfilled │──▶║┌───────────────────────┐ ║   │                      │             ╚══════════════════════╝              │                 │                 ┃    *
*     ┃       ┃ ║┌───────────────────────┐║   │ ┃ │                                      │ ┃ ║ ┌───────────────────────┐║   ┃ │     ╱  set    ╲      │   └──────────────┘   ║│       children:       │ ║   │                      │                                                   │                 │                 ┃    *
*     ┃       ┃ ║│parentToAssign: Entity │╠───┘ ┃ │   ┌─────────────┐    List Block      └─╋─╬▶│parentToRequest: Entity│║   ┃ │    ╱ interval  ╲     │                      ║│   QueryablePromise    │─╬───┤                      │                                         ┌──────────────────┐        │                 ┃    *
*     ┃       ┃ ║└───────────────────────┘║     ┃ ├──▶│is Block/Page│───▶Children()─────┐  ┃ ║ └───────────────────────┘║   ┃ │   ╱      ↻      ╲    │                      ║│      <Entity[]>       │ ║   │                      │       extractPlainText                  │   Concatenated   │        │                 ┃    *
*     ┃       ┃ ║┌───────────────────────┐║ ... ┃ │   └─────────────┘                   │  ┃ ║ ┌───────────────────────┐║   ┃─┴─▶▕  promise > 0  ▏───┤                      ║└───────────────────────┘ ║   │                      │    ┌─▶   FromBlock    ────▶.reduce()───▶│    Plain Text    │        │                 ┃    *
*     ┃       ┃ ║│parentToRequest: Entity│╠───────┘                                 .push()┃ ║ │       children:       │║   ┃     ╲ isSetteled  ╱    │   ┌──────────────┐   ║┌───────────────────────┐ ║   │                      │    │                                    └──────────────────┘        │                 ┃    *
*     ┃       ┃ ║└───────────────────────┘║     ┃ │   ┌─────────────┐      Query        ┌────╬▶│   QueryablePromise    │║   ┃      ╲     ↻     ╱     └──▶│ is Rejected  │   ║│     retry: number     │ ║   │                      │    │                                                                │                 ┃    *
*     ┃       ┃ ║┌───────────────────────┐║     ┃ └──▶│ is Database │───▶Database()─────┘  ┃ ║ │      <Entity[]>       │║   ┃       ╲   0ms   ╱          └──────────────┘   ║└───────────────────────┘ ║   │     ┌────────────────│─┐  │                                                                │                 ┃    *
*     ┃       ┃ ║│     retry: number     │║     ┃     └─────────────┘                      ┃ ║ └───────────────────────┘║   ┃        ╲       ╱                    │         ╚══════════════════════════╝   └────▶│     is Block   │ │──┤                     ┌──────────────────┐                       │                 ┃    *
*     ┃       ┃ ║└───────────────────────┘║     ┃                                          ┃ ║ ┌───────────────────────┐║   ┃         ╲     ╱                     │                                              └────────────────│─┘  │                     │  is in Traverse  │                       │                 ┃    *
*     ┃       ┃ ╚═════════════════════════╝     ┃                                          ┃ ║ │     retry: number     │║   ┃          ╲   ╱                      │               set maxConcurrency to 0                         │    │               ┌────▶│  Exclusion List  │           ╔═══════════╬══════════╗      ┃    *
*     ┃       ┗━━━━━━━━━━━━━━▲━━━━━━━━━━━━━━━━━━┛                                          ┃ ║ └───────────────────────┘║   ┃           ╲ ╱                       ▼               empty promise_queue                             │    │               │     └──────────────────┘           ║Connector  │          ║      ┃    *
*     ┃                      │                                                             ┃ ╚══════════════════════════╝   ┃            V                  rate_limited──true──▶ move promises to ready_queue                    │    └─▶.filter()────┤     ┌──────────────────┐           ║ ┌─────────┴────────┐ ║      ┃    *
*     ┃                      │                                                             ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛                                     │               wait for some minutes                           │                    │     │is NOT in Traverse│           ║ │toAssigned: PARENT│ ║      ┃    *
*     ┃                      │                                                                                                                                    │               set maxConcurrency to 3                         │                    └────▶│  Exclusion List  │──create──▶║ └─────────┬────────┘ ║      ┃    *
*     ┃                      │                                                                                      ╔═════════════════════════╗                 false                                                             │                          └──────────────────┘           ║┌──────────┴─────────┐║      ┃    *
*     ┃                      │                                                                                      ║┌───────────────────────┐║                   │                                                               │                                                         ║│toRequested: itself │║      ┃    *
*     ┃            .splice(concurrency -                                                                            ║│parentToAssign: Entity │║                   │                                                               │                                                         ║└──────────┬─────────┘║      ┃    *
*     ┃               promise.length)                                                                               ║└───────────────────────┘║                   ▼                                                               │                                                         ╚═══════════╬══════════╝      ┃    *
*     ┃                      │                                                                                      ║┌───────────────────────┐║               retry <                                                             │                                                                     │                 ┃    *
*     ┃                      │                                                                               ┌──────║│parentToRequest: Entity│║◀───true───── retryCount ──false──▶ console.error                                  │                                                                     │                 ┃    *
*     ┃                      │                                                                               │      ║└───────────────────────┘║                                                                                   │                                                                     │                 ┃    *
*     ┃                      │                                                                               │      ║┌───────────────────────┐║                                                                                   │                                                                     │                 ┃    *
*     ┃                      │                         ┌──false───┐                                          │      ║│      retry: +=1       │║                                                                                   │                                                                     │                 ┃    *
*     ┃                      │                         │          │                                          │      ║└───────────────────────┘║                                                                                   │                                                                     │                 ┃    *
*     ┃                      │                         │          │                                     .unshift()  ╚═════════════════════════╝                                                                                   │                                                                     │                 ┃    *
*     ┃                      │                         Λ          │                                          ▼                                                                                                                    │                                                                     │                 ┃    *
*     ┃                      │                        ╱ ╲         │            ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓                                                                                      │                                                                     │                 ┃    *
*     ┃                      │                       ╱   ╲        │            ┃  Request Ready Queue                                      ┃                                                                                      │                                                                     │                 ┃    *
*     ┃                      │                      ╱     ╲       │            ┃ ╔═════════════════════════╗ ╔═════════════════════════╗   ┃                                                                                      │                                                                     │                 ┃    *
*     ┃                      │                     ╱       ╲      │            ┃ ║┌───────────────────────┐║ ║┌───────────────────────┐║   ┃                                                                                      │                                                                     │                 ┃    *
*     ┃                      │                    ╱  check  ╲     │            ┃ ║│parentToAssign: Entity │║ ║│parentToAssign: Entity │║   ┃                                                                                      │                                                                     │                 ┃    *
*     ┃                      │                   ╱  routine  ╲    │            ┃ ║└───────────────────────┘║ ║└───────────────────────┘║   ┃                                                                                      │                                                                     │                 ┃    *
*     ┃                      │                  ╱      ↻      ╲   │            ┃ ║┌───────────────────────┐║ ║┌───────────────────────┐║...┃                                                                                      │                                                                     │                 ┃    *
*     ┃                      └─────────────────▕  ready > 0    ▏◀─┴────────────┃ ║│parentToRequest: Entity│║ ║│parentToRequest: Entity│║   ┃◀─────────────────────────────────────────────────────────────────────────────────────│─────────────────────────────────────────────────────────────────────┘                 ┃    *
*     ┃                            true         ╲ promise < 3 ╱                ┃ ║└───────────────────────┘║ ║└───────────────────────┘║   ┃             .push()                                                                  │                                                                                       ┃    *
*     ┃                                          ╲           ╱                 ┃ ║┌───────────────────────┐║ ║┌───────────────────────┐║   ┃                                                                                      │                                                                                       ┃    *
*     ┃                                           ╲    ↻    ╱                  ┃ ║│       retry: 0        │║ ║│       retry: 0        │║   ┃                                                                                      │                                                                                       ┃    *
*     ┃                                            ╲ 250ms ╱                   ┃ ║└───────────────────────┘║ ║└───────────────────────┘║   ┃                                                                                      │                                                                                       ┃    *
*     ┃                                             ╲     ╱                    ┃ ╚═════════════════════════╝ ╚═════════════════════════╝   ┃                                                                                      │                                                                                       ┃    *
*     ┃                                              ╲   ╱                     ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛                                                                                      │                                                                                       ┃    *
*     ┃                                               ╲ ╱                                                    ▲                                                                                                                    │                                                                                       ┃    *
*     ┃                                                V                                                     │                    ┏━━━━━━━━━━━━━━━━━━━━━━━━━━┓                                                                    │                                                                                       ┃    *
*     ┃                                                           ┌─────────────────────┐                 (init)                  ┃  Page Collection         ┃                                                                    │                                                                                       ┃    *
*     ┃                                                           │   children: () =>   │                    │                    ┃ ┌────╦═════════════════╗ ┃                                                                    │                                                                                       ┃    *
*     ┃                                                           │  Promise<Entity[]>  │                    │                    ┃ │ id ║  page: Entity   ║ ┃                                                                    │                                                                                       ┃    *
*     ┃                                                           └─────────────────────┘                    │                    ┃ └────╩═════════════════╝ ┃                                                                    │                                                                                       ┃    *
*     ┃                                                                                            ┌──────────────────┐           ┃ ┌────╦═════════════════╗ ┃                                                                    │                                                                                       ┃    *
*     ┃                                                                                            │       ROOT       │───(init)─▶┃ │ id ║  page: Entity   ║ ┃◀────────────assign with key────────────────────────────────────────┘                                                                                       ┃    *
*     ┃                                                                                            └──────────────────┘           ┃ └────╩═════════════════╝ ┃                                                                                                                                                            ┃    *
*     ┃                                                                                                      │                    ┃ ┌────╦═════════════════╗ ┃                                                                                                                                                            ┃    *
*     ┃                                                                                                                           ┃ │ id ║  page: Entity   ║ ┃                                                                                                                                                            ┃    *
*     ┃                                                                                                      │                    ┃ └────╩═════════════════╝ ┃                                                                                                                                                            ┃    *
*     ┃                                                                                                                           ┃           ....           ┃                                                                                                                                                            ┃    *
*     ┃                                                                                                      │                    ┗━━━━━━━━━━━━━━━━━━━━━━━━━━┛                                                                                                                                                            ┃    *
*     ┃                                                                                                                                         │                                                                                                                                                                         ┃    *
*     ┃                                                                                                      └ ─ ─ ─ ─ ─ ─ ─ ┬ ─ ─ ─ ─ ─ ─ ─ ─ ─                                                                                                                                                                          ┃    *
*     ┃                                                                                                                                                                                                                                                                                                                   ┃    *
*     ┃                                                                                                                      │                                                                                                                                                                                            ┃    *
*     ┃                                                                                                          ╔══════════════════════╗                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║ Entity               ║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║┌────────────────────┐║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║│     id: string     │║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║└────────────────────┘║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║┌────────────────────┐║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║│   depth: number    │║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║└────────────────────┘║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║┌────────────────────┐║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║│       type:        │║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║│ 'page'|'database'| │║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║│      'block'       │║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║└────────────────────┘║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║┌────────────────────┐║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║│     metadata:      │║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║│GetBlockResponseWith│║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║│      Metadata      │║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║└────────────────────┘║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║┌────────────────────┐║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║│     plainText:     │║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║│extractPlainText(...│║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║│     children)      │║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║└────────────────────┘║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║┌────────────────────┐║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║│ children: Entity[] │║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ║└────────────────────┘║                                                                                                                                                                                 ┃    *
*     ┃                                                                                                          ╚══════════════════════╝                                                                                                                                                                                 ┃    *
*     ┃                                                                                                                                                                                                                                                                                                                   ┃    *
*     ┃                                                                                                                                                                                                                                                                                                                   ┃    *
*     ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛    *
*                                                                                                                                                                                                                                                                                                                              *
*                                                                                                                                                                                                                                                                                                                              *
*                                                                                                                                                                                                                                                                                                                              *
*                                                                                                                                                                                                                                                                                                                              *
********************************************************************************************************************************************************************************************************************************************************************************************************************************
</pre>
